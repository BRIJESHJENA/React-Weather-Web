import React from "react";
import { useSelector } from "react-redux";
import { iconUrlFromCode } from "../../common/api/index.tsx";
import { Box, Grid, Typography } from "@mui/material";

function Climatecard() {
  const weather: any = useSelector((state: any) => state?.climate.climateVal);
  // console.log(weather);

  return (
    <Box>
      {weather?.main ? (
        <Box>
          <Grid container className="location-box">
            <Grid
              item
              xs={12}
              md={12}
              lg={12}
              className="location"
              display="flex"
              justifyContent="center"
            >
              <Typography variant="h4">
                {weather.name}, {weather.sys.country}
              </Typography>
            </Grid>
            <Grid
              item
              xs={12}
              md={12}
              lg={12}
              className="weather"
              display="flex"
              justifyContent="center"
            >
              {weather.weather[0].main}
            </Grid>
          </Grid>
          <Grid container display="flex" alignItems="center">
            <Grid
              item
              xs={12}
              md={4}
              lg={4}
              display="flex"
              justifyContent="center"
            >
              <img
                src={iconUrlFromCode(weather?.weather[0].icon)}
                alt={weather?.weather[0].main}
              />
            </Grid>
            <Grid
              item
              xs={12}
              md={4}
              lg={4}
              display="flex"
              justifyContent="center"
            >
              <Typography variant="h4">{weather.main.temp}°c</Typography>
            </Grid>
            <Grid
              item
              xs={12}
              md={4}
              lg={4}
              display="flex"
              justifyContent="center"
            >
              <Box>
                <Box className="feels_liketemp" display="flex" gap={1}>
                  <Box>
                    <svg
                      width="16"
                      height="30"
                      viewBox="0 0 16 30"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M8.75 18.325V10C8.75 9.80109 8.67098 9.61032 8.53033 9.46967C8.38968 9.32902 8.19891 9.25 8 9.25C7.80109 9.25 7.61032 9.32902 7.46967 9.46967C7.32902 9.61032 7.25 9.80109 7.25 10V18.325C6.33947 18.5109 5.53038 19.0282 4.9796 19.7767C4.42882 20.5252 4.17559 21.4515 4.26899 22.3761C4.36239 23.3007 4.79578 24.1577 5.48514 24.781C6.17449 25.4042 7.07069 25.7492 8 25.7492C8.92931 25.7492 9.82551 25.4042 10.5149 24.781C11.2042 24.1577 11.6376 23.3007 11.731 22.3761C11.8244 21.4515 11.5712 20.5252 11.0204 19.7767C10.4696 19.0282 9.66053 18.5109 8.75 18.325ZM8 24.25C7.55499 24.25 7.11998 24.118 6.74997 23.8708C6.37996 23.6236 6.09157 23.2722 5.92127 22.861C5.75097 22.4499 5.70642 21.9975 5.79323 21.561C5.88005 21.1246 6.09434 20.7237 6.40901 20.409C6.72368 20.0943 7.12459 19.8801 7.56105 19.7932C7.9975 19.7064 8.4499 19.751 8.86104 19.9213C9.27217 20.0916 9.62357 20.38 9.87081 20.75C10.118 21.12 10.25 21.555 10.25 22C10.25 22.5967 10.0129 23.169 9.59099 23.591C9.16903 24.0129 8.59674 24.25 8 24.25ZM12.75 15.875V5C12.75 3.74022 12.2496 2.53204 11.3588 1.64124C10.468 0.750445 9.25978 0.25 8 0.25C6.74022 0.25 5.53204 0.750445 4.64124 1.64124C3.75045 2.53204 3.25 3.74022 3.25 5V15.875C1.97322 16.8654 1.03793 18.23 0.574944 19.7781C0.111957 21.3262 0.144434 22.9803 0.667832 24.5091C1.19123 26.0378 2.17937 27.3647 3.49404 28.3042C4.80871 29.2437 6.38415 29.7487 8 29.7487C9.61585 29.7487 11.1913 29.2437 12.506 28.3042C13.8206 27.3647 14.8088 26.0378 15.3322 24.5091C15.8556 22.9803 15.888 21.3262 15.4251 19.7781C14.9621 18.23 14.0268 16.8654 12.75 15.875ZM8 28.25C6.67053 28.2487 5.37611 27.8235 4.30483 27.0362C3.23355 26.2489 2.44122 25.1406 2.043 23.8721C1.64477 22.6037 1.66138 21.2413 2.09042 19.983C2.51947 18.7247 3.33859 17.6359 4.42875 16.875C4.52927 16.805 4.6111 16.7114 4.6671 16.6025C4.72311 16.4935 4.75157 16.3725 4.75 16.25V5C4.75 4.13805 5.09241 3.3114 5.7019 2.7019C6.3114 2.09241 7.13805 1.75 8 1.75C8.86195 1.75 9.6886 2.09241 10.2981 2.7019C10.9076 3.3114 11.25 4.13805 11.25 5V16.25C11.2501 16.3708 11.2793 16.4898 11.3352 16.5969C11.3912 16.704 11.4721 16.7959 11.5713 16.865C12.6658 17.6244 13.489 18.7137 13.9209 19.974C14.3527 21.2342 14.3706 22.5995 13.9718 23.8706C13.5731 25.1418 12.7787 26.2522 11.7044 27.04C10.6301 27.8278 9.33219 28.2518 8 28.25Z"
                        fill="#8c8c8c"
                      />
                    </svg>
                  </Box>
                  <Typography>{weather.main.feels_like}°c</Typography>
                </Box>
                <Box className="humidity" display="flex" gap={1}>
                  <Box>
                    <svg
                      width="22"
                      height="28"
                      viewBox="0 0 22 28"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M16.5662 5.13258C15.0352 3.36406 13.3126 1.77098 11.43 0.382579C11.304 0.294378 11.1538 0.24707 11 0.24707C10.8462 0.24707 10.696 0.294378 10.57 0.382579C8.68742 1.77098 6.96479 3.36406 5.43375 5.13258C2.0425 9.03258 0.25 13.1363 0.25 17.0001C0.25 19.8512 1.38259 22.5855 3.3986 24.6015C5.41462 26.6175 8.14892 27.7501 11 27.7501C13.8511 27.7501 16.5854 26.6175 18.6014 24.6015C20.6174 22.5855 21.75 19.8512 21.75 17.0001C21.75 13.1363 19.9575 9.03258 16.5662 5.13258ZM11 26.2501C8.54766 26.2471 6.19662 25.2716 4.46255 23.5375C2.72848 21.8035 1.75298 19.4524 1.75 17.0001C1.75 9.54758 9.125 3.38383 11 1.93633C12.875 3.38383 20.25 9.54758 20.25 17.0001C20.247 19.4524 19.2715 21.8035 17.5374 23.5375C15.8034 25.2716 13.4523 26.2471 11 26.2501ZM17.74 18.1251C17.4899 19.5226 16.8177 20.81 15.8138 21.8138C14.8099 22.8177 13.5225 23.49 12.125 23.7401C12.0836 23.7464 12.0419 23.7497 12 23.7501C11.8114 23.7508 11.6295 23.6805 11.4904 23.5531C11.3514 23.4258 11.2654 23.2507 11.2497 23.0628C11.2339 22.8749 11.2895 22.6879 11.4054 22.5392C11.5213 22.3904 11.6889 22.2908 11.875 22.2601C14.0475 21.8951 15.8913 20.0501 16.26 17.8751C16.2932 17.6788 16.4029 17.5038 16.5651 17.3884C16.6455 17.3313 16.7362 17.2906 16.8323 17.2686C16.9284 17.2465 17.0278 17.2437 17.125 17.2601C17.2222 17.2765 17.3152 17.3119 17.3987 17.3642C17.4822 17.4166 17.5545 17.4849 17.6116 17.5652C17.6688 17.6455 17.7095 17.7363 17.7315 17.8324C17.7535 17.9284 17.7564 18.0279 17.74 18.1251Z"
                        fill="#8c8c8c"
                      />
                    </svg>
                  </Box>
                  <Typography>{weather.main.humidity}%</Typography>
                </Box>
                <Box className="wind" display="flex" gap={1}>
                  <Box>
                    <svg
                      width="28"
                      height="22"
                      viewBox="0 0 28 22"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M20.75 18C20.75 18.9946 20.3549 19.9484 19.6517 20.6517C18.9484 21.3549 17.9946 21.75 17 21.75C15.3875 21.75 13.83 20.7025 13.2963 19.26C13.2273 19.0734 13.2353 18.867 13.3185 18.6862C13.4017 18.5055 13.5534 18.3652 13.74 18.2962C13.9266 18.2273 14.133 18.2353 14.3138 18.3185C14.4945 18.4017 14.6348 18.5534 14.7038 18.74C15.0163 19.5863 16.025 20.25 17 20.25C17.5967 20.25 18.169 20.0129 18.591 19.591C19.0129 19.169 19.25 18.5967 19.25 18C19.25 17.4033 19.0129 16.831 18.591 16.409C18.169 15.9871 17.5967 15.75 17 15.75H3C2.80109 15.75 2.61032 15.671 2.46967 15.5303C2.32902 15.3897 2.25 15.1989 2.25 15C2.25 14.8011 2.32902 14.6103 2.46967 14.4697C2.61032 14.329 2.80109 14.25 3 14.25H17C17.9946 14.25 18.9484 14.6451 19.6517 15.3483C20.3549 16.0516 20.75 17.0054 20.75 18ZM16.75 4C16.75 3.00544 16.3549 2.05161 15.6517 1.34835C14.9484 0.645088 13.9946 0.25 13 0.25C11.3875 0.25 9.83 1.2975 9.29625 2.74C9.22729 2.92665 9.23531 3.13304 9.31853 3.31378C9.40175 3.49452 9.55335 3.63479 9.74 3.70375C9.92665 3.77271 10.133 3.76469 10.3138 3.68147C10.4945 3.59825 10.6348 3.44665 10.7037 3.26C11.0162 2.41375 12.025 1.75 13 1.75C13.5967 1.75 14.169 1.98705 14.591 2.40901C15.0129 2.83097 15.25 3.40326 15.25 4C15.25 4.59674 15.0129 5.16903 14.591 5.59099C14.169 6.01295 13.5967 6.25 13 6.25H1C0.801088 6.25 0.610322 6.32902 0.46967 6.46967C0.329018 6.61032 0.25 6.80109 0.25 7C0.25 7.19891 0.329018 7.38968 0.46967 7.53033C0.610322 7.67098 0.801088 7.75 1 7.75H13C13.9946 7.75 14.9484 7.35491 15.6517 6.65165C16.3549 5.94839 16.75 4.99456 16.75 4ZM24 4.25C22.3875 4.25 20.83 5.2975 20.2962 6.74C20.2621 6.83242 20.2465 6.93066 20.2503 7.02911C20.2541 7.12755 20.2773 7.22429 20.3185 7.31378C20.3597 7.40327 20.4182 7.48377 20.4905 7.55068C20.5628 7.61759 20.6476 7.66961 20.74 7.70375C20.8324 7.73789 20.9307 7.7535 21.0291 7.74968C21.1276 7.74586 21.2243 7.72268 21.3138 7.68147C21.4033 7.64027 21.4838 7.58184 21.5507 7.50952C21.6176 7.43721 21.6696 7.35242 21.7038 7.26C22.0163 6.41375 23.025 5.75 24 5.75C24.5967 5.75 25.169 5.98705 25.591 6.40901C26.0129 6.83097 26.25 7.40326 26.25 8C26.25 8.59674 26.0129 9.16903 25.591 9.59099C25.169 10.0129 24.5967 10.25 24 10.25H2C1.80109 10.25 1.61032 10.329 1.46967 10.4697C1.32902 10.6103 1.25 10.8011 1.25 11C1.25 11.1989 1.32902 11.3897 1.46967 11.5303C1.61032 11.671 1.80109 11.75 2 11.75H24C24.9946 11.75 25.9484 11.3549 26.6517 10.6517C27.3549 9.94839 27.75 8.99456 27.75 8C27.75 7.00544 27.3549 6.05161 26.6517 5.34835C25.9484 4.64509 24.9946 4.25 24 4.25Z"
                        fill="#8c8c8c"
                      />
                    </svg>
                  </Box>
                  <Typography>{weather.wind.speed}</Typography>
                </Box>
              </Box>
            </Grid>
          </Grid>
        </Box>
      ) : (
        "Not Available"
      )}
    </Box>
  );
}

export default Climatecard;
